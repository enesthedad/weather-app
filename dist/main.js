(()=>{"use strict";const e=function(e,n){if("d"==e){if(200==n||201==n||202==n)return"icons/sun/rainwiththunder.png";if(230==n||231==n||232==n||233==n)return"icons/sun/heavythunder.png";if(300==n||301==n||302==n)return"icons/sun/rain.png";if(500==n||501==n||520==n)return"icons/sun/rain.png";if(502==n||521==n||522==n)return"icons/sun/heavyrain.png";if(511==n)return"icons/sun/freezingrain.png";if(600==n||601==n||621==n||622==n||623==n)return"icons/sun/snow.png";if(611==n||612==n)return"icons/sun/breezy.png";if(700==n||711==n||721==n||731==n||741==n||751==n)return"icons/sun/cloudybreezewithsun.png";if(800==n)return"icons/sun/clear.png";if(801==n||802==n||803==n)return"icons/sun/brokencloud.png";if(804==n)return"icons/sun/cloud.png"}else if("n"==e){if(200==n||201==n||202==n)return"icons/sun/thundernight.png";if(230==n||231==n||232==n||233==n)return"icons/sun/thunderwithcloudnight.png";if(300==n||301==n||302==n)return"icons/sun/nightrain.png";if(500==n||501==n||520==n)return"icons/sun/nightrain.png";if(502==n||521==n||522==n)return"icons/sun/heavyrainnight.png";if(511==n)return"icons/sun/nightfreezingrain.png";if(600==n||601==n||621==n||622==n||623==n)return"icons/sun/snowknight.png";if(611==n||612==n)return"icons/sun/breezynight.png";if(700==n||711==n||721==n||731==n||741==n||751==n)return"icons/sun/nightcloudybreeze.png";if(800==n)return"icons/sun/clearnight.png";if(801==n||802==n||803==n)return"icons/sun/brokencloudnight.png";if(804==n)return"icons/sun/cloudnight.png"}},n=document.getElementById("main"),i=document.getElementById("today-header"),s=function(s){n.innerHTML=`  <div class="main-img flex justify-center">\n        <img class="page-img self-center flex h-32 md:h-[64px] lg:h-64" src="${e(s[0].pod,s[0].weather.code)}" alt="">\n    </div>\n    <div class="main-temperature">\n        <h2 class="temperature text-white text-[48px]">${s[0].app_temp}&deg;</h2>\n    </div>\n    <div class="precipitations text-white flex p-5 flex-col text-xl">\n        <div class="precipitations-header font-semibold mb-4">\n            ${String(s[0].city_name).toUpperCase()}\n        </div>\n        <div class="precipitations-min-max justify-center flex gap-5">\n            <div class="max flex align-center">\n            <img src="icons/cloud.png" class='h-6 mr-2' alt="cloud"> ${s[0].clouds} %\n            </div>\n            <div class="min flex align-center">\n            <img src="icons/wind.png" class='h-6 mr-2' alt="wind"> ${Number(s[0].wind_spd).toFixed(2)} &#13223;\n            </div>\n        </div>\n    </div>`,i.innerHTML=`\n        <h1>Today</h1>\n        <div class="date">${s[0].datetime}</div>\n    `},t=document.getElementById("today-table"),a=function(n,i){t.innerHTML="";for(let i=0;i<=12;i++){const s=document.createElement("div");s.classList.add,s.innerHTML=`<div class="p-2 w-[100px] flex flex-col justify-center items-center">\n        <h1 class="text-xl">${n[i].app_temp} &deg;C</h1>\n        <img class="w-[75px]" src="${e(n[i].pod,n[i].weather.code)}" alt="">\n        <h1 class="text-xl">${n[i].timestamp_local.substr(n[i].timestamp_local.length-8).substr(0,5)}</h1>\n    </div>`,t.appendChild(s)}},c=document.getElementById("detail-weather"),l=function(n){c.innerHTML=`\n         \n        <div class="div flex md:flex-col lg:flex-col justify-center items-center">\n            <div class="section1 w-1/2">\n                \n                <img src="${e(n[0].pod,n[0].weather.code)}" class="weather w-4/5" alt="">\n        \n            </div>\n            <div class="section2 flex flex-col gap-4 w-1/2 text-2xl text-white">\n                \n                <div class="city">${n[0].city_name}</div>\n                <div class="temperature">${n[0].temp}&deg;</div>\n    \n                <div class="description">${n[0].weather.description}</div>\n        \n            </div>    \n        </div>\n        <div class="humidity flex flex-row align-middle"><img class="h-8 mr-2" src="icons/humidity.png" alt=""><span class="mr-2 font-semibold">Humidity:</span>${n[0].rh}</div>\n        <div class="apparent-temperature flex flex-row align-middle"><img class="h-8 mr-2" src="icons/thermometer.png" alt=""><span class="mr-2 font-semibold">Apparent Temperature:</span>${n[0].app_temp}&deg;</div>\n        <div class="air-quaility flex flex-row align-middle"><img class="h-8 mr-2" src="icons/air-flow.png" alt=""><span class="mr-2 font-semibold">Air Quality:</span>${n[0].aqi}</div>\n        <div class="wind flex flex-col gap-8">\n            <div class="speed flex flex-row align-middle"><img class="h-8 mr-2" src="icons/windy.png" alt=""><span class="mr-2 font-semibold">Wind speed:</span>${Number(n[0].wind_spd).toFixed(2)} m/s</div>\n            <div class="direction flex flex-row align-middle"><img class="h-8 mr-2" src="icons/wind.png" alt=""><span class="mr-2 font-semibold">Wind direction:</span>${n[0].wind_dir} &deg;</div>\n        </div>\n        <div class="cloud flex flex-row align-middle"><img class="h-8 mr-2" src="icons/cloud.png" alt=""><span class="mr-2 font-semibold">Cloud:</span>${n[0].clouds}%</div>\n        <div class="pressure flex flex-row align-middle"><img class="h-8 mr-2" src="icons/pressure-gauge.png" alt=""><span class="mr-2 font-semibold">Pressure:</span>${n[0].pres}</div>\n        <div class="visibility flex flex-row align-middle"><img class="h-8 mr-2" src="icons/visibility.png" alt=""><span class="mr-2 font-semibold">Visibility:</span>${n[0].vis}</div>\n        <div class="uv flex flex-row align-middle"><img class="h-8 mr-2" src="icons/rays.png" alt=""><span class="mr-2 font-semibold">UV:</span>${Number(n[0].uv).toFixed(2)}</div>\n    \n        `},d=document.getElementById("forecast"),r=function(n,i){!async function(){let s=await fetch(`https://api.weatherbit.io/v2.0/forecast/daily?city=${n}&key=${i}`).then((e=>e.json())),t=await s.data;console.log(t),function(n){d.innerHTML="";for(let i=0;i<7;i++){let s=document.createElement("div");s.innerHTML=`\n        <div class="day-card  bg-slate-200 bg-opacity-20 rounded-lg p-4 text-white flex flex-col">\n            <div class="flex justify-between font-semibold mb-4">\n                <div class="datetime">${n[i].datetime}</div>\n                    <div class="temperature">${n[i].temp} C&deg;</div>\n            </div>\n            <div class="flex gap-10 justify-center items-center mr-4">\n\n                <div class="flex flex-col align-top justify-start items-start gap-5">\n                    <div class="flex align-top justify-start items-start gap-4">\n                        <div class="max flex items-center align-middle"><img src="icons/thermometer.png" class='h-6 mr-2' alt="">${n[i].high_temp}&deg;</div>\n                        <div class="min flex  align-middle"><img src="icons/thermometer.png" class='h-6 mr-2' alt="">${n[i].low_temp}&deg;</div>\n                    </div>\n                    <div class="flex align-top justify-center items-center gap-4">\n                        <div class="cloud flex  items-center  align-middle"><img src="icons/cloud.png" class='h-6 mr-2' alt="">${n[i].clouds} %</div>\n                        <div class="wind flex  items-center align-middle"><img src="icons/wind.png" class='h-6 mr-1' alt=""><span class="mr-1">${n[i].wind_spd}</span>m/s</div>\n                \n                    </div>\n                    <div class="flex align-top justify-center items-center gap-4">\n                        <div class="wind flex  items-center  align-middle"><img src="icons/visibility.png" class='h-6 mr-1' alt="">${n[i].vis}km</div>\n                         <div class="wind flex  items-center  align-middle"><img src="icons/rays.png" class='h-6 mr-1' alt="">${n[i].uv}</div>\n                    </div>\n                </div>\n                <img class="h-[100px]" src="${e("d",n[i].weather.code)}" alt="">\n                \n            </div>\n            \n           \n        </div>\n        `,d.appendChild(s)}}(t)}()},o="7f8de59fb9284bbe86e221758c96387b",m=document.querySelector(".app"),u=document.getElementById("forecast"),p=document.getElementById("detail-weather"),g=document.querySelectorAll(".containers"),f=document.getElementById("search-button"),v=document.getElementById("forecast-button"),h=document.getElementById("up-button"),x=document.querySelector(".logo"),y=document.getElementById("search-label");function w(){navigator.geolocation.getCurrentPosition((e=>new Promise((async function(n,i){let t=await fetch(`https://api.weatherbit.io/v2.0/current?lat=${e.coords.latitude}&lon=${e.coords.longitude}&key=${o}`).then((e=>e.json())),c=await t.data;const d=(await fetch(`https://api.weatherbit.io/v2.0/forecast/hourly?city=${c[0].city_name}&key=${o}&hours=48`).then((e=>e.json()))).data;console.log(c),a(d),s(c),l(c),r(c[0].city_name,o)}))))}w(),f.addEventListener("click",(e=>{e.preventDefault();const n=y.value;n?(p.innerHTML="",function(e,n){!async function(){let i=await fetch(`https://api.weatherbit.io/v2.0/current?city=${e}&key=${n}`).then((e=>e.json())),t=await i.data;console.log(t);const c=(await fetch(`https://api.weatherbit.io/v2.0/forecast/hourly?city=${t[0].city_name}&key=${n}&hours=48`).then((e=>e.json()))).data;a(c),l(t),s(t)}()}(n,o),r(n,o),y.value=""):(y.value="Enter a city name!",y.classList.add("text-red-600"),y.classList.add("bg-red-100"),setTimeout((()=>{y.value="",y.classList.remove("text-red-600"),y.classList.remove("bg-red-100")}),3e3))})),x.addEventListener("click",(e=>{e.preventDefault(),w(),g.forEach((e=>e.classList.remove("active"))),g.forEach((e=>e.classList.add("hidden"))),m.classList.remove("hidden"),m.classList.add("active")})),findLocationButton.addEventListener("click",(e=>{e.preventDefault(),g.forEach((e=>e.classList.remove("active"))),g.forEach((e=>e.classList.add("hidden"))),m.classList.remove("hidden"),m.classList.add("active")})),h.addEventListener("click",(e=>{e.preventDefault(),p.classList.contains("active")?(g.forEach((e=>e.classList.remove("active"))),g.forEach((e=>e.classList.add("hidden"))),m.classList.remove("hidden"),m.classList.add("active")):(g.forEach((e=>e.classList.remove("active"))),g.forEach((e=>e.classList.add("hidden"))),p.classList.remove("hidden"),p.classList.add("active"))})),v.addEventListener("click",(e=>{e.preventDefault(),u.classList.contains("active")?(g.forEach((e=>e.classList.remove("active"))),g.forEach((e=>e.classList.add("hidden"))),m.classList.remove("hidden"),m.classList.add("active")):(g.forEach((e=>e.classList.remove("active"))),g.forEach((e=>e.classList.add("hidden"))),u.classList.remove("hidden"),u.classList.add("active"))}));const b=w;document.getElementById("main"),b()})();